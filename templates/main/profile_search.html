<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>検索一覧 | WEBプログラマ・マッチングアプリ</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
</head>
<body>
    <header>
        <img src="{{ url_for('static', filename='img/logo.png') }}" alt="ロゴ" />
    </header>

    <div class="outer-wrapper"></div>
    <div class="container-fluid mt-4">
      <div class="row">
        <!-- ▼ メインカラム -->
        <div class="col-lg-9">
          <!-- ▼ フィルター検索フォーム（中央揃えに修正） -->
          <form
            class="filter-form d-flex flex-wrap justify-content-center align-items-center gap-3 mb-4"
            method="GET"
            action="/search"
          >
            <select name="language" class="form-select w-auto">
            <option value="">使用言語を選択</option>
              <option value="python" {% if request.args.get('language') == 'python' %}selected{% endif %}>Python</option>
              <option value="java" {% if request.args.get('language') == 'java' %}selected{% endif %}>Java</option>
              <option value="PHP" {% if request.args.get('language') == 'PHP' %}selected{% endif %}>PHP</option>
              <option value="ruby" {% if request.args.get('language') == 'ruby' %}selected{% endif %}>Ruby</option>
              <option value="csharp" {% if request.args.get('language') == 'csharp' %}selected{% endif %}>C#</option>
            </select>

            <select name="dev_field" class="form-select w-auto">
            <option value="">開発分野を選択</option>
              <option value="web" {% if request.args.get('dev_field') == 'web' %}selected{% endif %}>Web開発</option>
              <option value="mobile" {% if request.args.get('dev_field') == 'mobile' %}selected{% endif %}>モバイルアプリ</option>
              <option value="ai" {% if request.args.get('dev_field') == 'ai' %}selected{% endif %}>AI / 機械学習</option>
              <option value="game" {% if request.args.get('dev_field') == 'game' %}selected{% endif %}>ゲーム開発</option>
              <option value="embedded" {% if request.args.get('dev_field') == 'embedded' %}selected{% endif %}>組み込みシステム</option>
            </select>

            <button type="submit" class="btn btn-primary">表示</button>
        </form>

          <!-- ▼ プロフィールカード一覧 -->
           <h3 class="recommended-heading text-center">
  <i class="fas fa-star fa-beat text-warning me-2"></i>
  < 🔍 検索結果一覧  >
</h3>
         <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-6 g-4">
            {% if profiles %} {% for user in profiles %} {% include
            'main/profile_card.html' %} {% endfor %} {% else %}
             <div class="container my-4">
  <div class="d-flex justify-content-center">
    <div class="alert alert-light border text-center shadow-sm rounded py-4 w-100" style="max-width: 600px;">
      <i class="fas fa-user-slash fa-lg text-secondary me-2"></i>
      <strong>検索条件に一致するユーザーが見つかりませんでした</strong>
      
    </div>
  </div>
</div>
            {% endif %}
          </div>
        </div>

        <!-- ▼ サイドバー -->
        <div class="col-lg-3 sidebar mt-4 mt-lg-0">
          <a href="/main?tab=recommend">ホーム</a>
          <a href="/my_profile">マイページ</a>
          <a href="/matched">マッチした人</a>
          <a href="/likes/sent">送ったいいね</a>
          <a href="/likes/received">もらったいいね</a>
          <a href="/contact">お問い合わせ</a>
            <a href="/logout">ログアウト</a>
    </div>
</div>
    </div>

    <footer>&copy; 2025 CodeMate. All rights reserved.</footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
